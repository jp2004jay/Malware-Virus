package malware;
import java.io.*;
import java.util.*;
public class MalwareRecover{
	public static void main(String [] args){
		File directory = null;
		FileInputStream file;
		ArrayList<String> fileNames = new ArrayList<String>();

		//Get All File Names In Our fileNames Array
		try{
			directory = new File("Accounts");
			
			for(String temp : directory.list()){
				fileNames.add(temp);
			}
		}
		catch(Exception e){
			e.printStackTrace();
			System.out.println("Some Error Excetude");
		}
	
		try{
			for(int i=0; i<fileNames.size(); i++){
				StringBuffer sb= new StringBuffer(fileNames.get(i));
				sb.deleteCharAt(sb.length()-1);
				sb.deleteCharAt(sb.length()-1);
				sb.deleteCharAt(sb.length()-1);
				sb.deleteCharAt(sb.length()-1);
				sb.deleteCharAt(sb.length()-1);  
					
				file = new FileInputStream("Accounts/"+fileNames.get(i));
				FileWriter fileNew = new FileWriter("Accounts/"+sb);
				int j=0;
				while((j=file.read())!=-1){
					fileNew.write((char)(j-5));
				}
				file.close();
				fileNew.close();
			}
			for(int i=0; i<fileNames.size(); i++){
				File itFile = new File("Accounts/"+fileNames.get(i));
				itFile.delete();
			}
			System.out.println("Command Gets Successfully");
		}
		catch(Exception e){
			e.printStackTrace();
			System.out.println("Some Error Excetude");
		}
	}
}